{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nvar _templateObject, _templateObject2;\n\nimport React, { useRef, useMemo, useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport pick from 'lodash/pick';\nimport on from 'dom-lib/on';\nimport getAnimationEnd from 'dom-lib/getAnimationEnd';\nimport BaseModal, { modalPropTypes } from '../Overlay/Modal';\nimport Bounce from '../Animation/Bounce';\nimport { useClassNames, mergeRefs, SIZE } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport { ModalContext } from './ModalContext';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { useBodyStyles } from './utils';\nimport useUniqueId from '../utils/useUniqueId';\nvar Modal = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var className = props.className,\n      children = props.children,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'modal' : _props$classPrefix,\n      dialogClassName = props.dialogClassName,\n      backdropClassName = props.backdropClassName,\n      _props$backdrop = props.backdrop,\n      backdrop = _props$backdrop === void 0 ? true : _props$backdrop,\n      dialogStyle = props.dialogStyle,\n      _props$animation = props.animation,\n      animation = _props$animation === void 0 ? Bounce : _props$animation,\n      open = props.open,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'sm' : _props$size,\n      full = props.full,\n      _props$dialogAs = props.dialogAs,\n      Dialog = _props$dialogAs === void 0 ? ModalDialog : _props$dialogAs,\n      animationProps = props.animationProps,\n      _props$animationTimeo = props.animationTimeout,\n      animationTimeout = _props$animationTimeo === void 0 ? 300 : _props$animationTimeo,\n      _props$overflow = props.overflow,\n      overflow = _props$overflow === void 0 ? true : _props$overflow,\n      _props$drawer = props.drawer,\n      drawer = _props$drawer === void 0 ? false : _props$drawer,\n      onClose = props.onClose,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExited = props.onExited,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'dialog' : _props$role,\n      idProp = props.id,\n      ariaLabelledby = props['aria-labelledby'],\n      ariaDescribedby = props['aria-describedby'],\n      rest = _objectWithoutPropertiesLoose(props, [\"className\", \"children\", \"classPrefix\", \"dialogClassName\", \"backdropClassName\", \"backdrop\", \"dialogStyle\", \"animation\", \"open\", \"size\", \"full\", \"dialogAs\", \"animationProps\", \"animationTimeout\", \"overflow\", \"drawer\", \"onClose\", \"onEntered\", \"onEntering\", \"onExited\", \"role\", \"id\", \"aria-labelledby\", \"aria-describedby\"]);\n\n  var inClass = {\n    in: open && !animation\n  };\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var classes = merge(className, prefix(size, {\n    full: full\n  }));\n  var dialogRef = useRef(null);\n  var transitionEndListener = useRef(); // The style of the Modal body will be updated with the size of the window or container.\n\n  var _useBodyStyles = useBodyStyles(dialogRef, {\n    overflow: overflow,\n    drawer: drawer,\n    prefix: prefix\n  }),\n      bodyStyles = _useBodyStyles[0],\n      onChangeBodyStyles = _useBodyStyles[1],\n      onDestroyEvents = _useBodyStyles[2];\n\n  var dialogId = useUniqueId('dialog-', idProp);\n  var modalContextValue = useMemo(function () {\n    return {\n      dialogId: dialogId,\n      onModalClose: onClose,\n      getBodyStyles: function getBodyStyles() {\n        return bodyStyles;\n      },\n      isDrawer: drawer\n    };\n  }, [dialogId, onClose, bodyStyles, drawer]);\n\n  var _useState = useState(false),\n      shake = _useState[0],\n      setShake = _useState[1];\n\n  var handleBackdropClick = useCallback(function () {\n    // When the value of `backdrop` is `static`, a jitter animation will be added to the dialog when clicked.\n    if (backdrop === 'static') {\n      setShake(true);\n\n      if (!transitionEndListener.current && dialogRef.current) {\n        //fix: https://github.com/rsuite/rsuite/blob/a93d13c14fb20cc58204babe3331d3c3da3fe1fd/src/Modal/styles/index.less#L59\n        transitionEndListener.current = on(dialogRef.current, getAnimationEnd(), function () {\n          setShake(false);\n        });\n      }\n    }\n  }, [backdrop]);\n  var handleExited = useCallback(function (node) {\n    var _transitionEndListene;\n\n    onExited === null || onExited === void 0 ? void 0 : onExited(node);\n    onDestroyEvents();\n    (_transitionEndListene = transitionEndListener.current) === null || _transitionEndListene === void 0 ? void 0 : _transitionEndListene.off();\n    transitionEndListener.current = null;\n  }, [onDestroyEvents, onExited]);\n  var handleEntered = useCallback(function (node) {\n    onEntered === null || onEntered === void 0 ? void 0 : onEntered(node);\n    onChangeBodyStyles();\n  }, [onChangeBodyStyles, onEntered]);\n  var handleEntering = useCallback(function (node) {\n    onEntering === null || onEntering === void 0 ? void 0 : onEntering(node);\n    onChangeBodyStyles(true);\n  }, [onChangeBodyStyles, onEntering]);\n  useEffect(function () {\n    var _transitionEndListene2;\n\n    (_transitionEndListene2 = transitionEndListener.current) === null || _transitionEndListene2 === void 0 ? void 0 : _transitionEndListene2.off();\n  }, []);\n  return /*#__PURE__*/React.createElement(ModalContext.Provider, {\n    value: modalContextValue\n  }, /*#__PURE__*/React.createElement(BaseModal, _extends({}, rest, {\n    ref: ref,\n    backdrop: backdrop,\n    open: open,\n    onClose: onClose,\n    onBackdropClick: handleBackdropClick,\n    className: prefix(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"wrapper\"]))),\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExited: handleExited,\n    backdropClassName: merge(prefix(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"backdrop\"]))), backdropClassName, inClass),\n    containerClassName: prefix({\n      open: open,\n      'has-backdrop': backdrop\n    }),\n    transition: animation ? animation : undefined,\n    animationProps: animationProps,\n    dialogTransitionTimeout: animationTimeout,\n    backdropTransitionTimeout: 150\n  }), function (transitionProps, transitionRef) {\n    var transitionClassName = transitionProps.className,\n        transitionRest = _objectWithoutPropertiesLoose(transitionProps, [\"className\"]);\n\n    return /*#__PURE__*/React.createElement(Dialog, _extends({\n      role: role,\n      id: dialogId,\n      \"aria-labelledby\": ariaLabelledby !== null && ariaLabelledby !== void 0 ? ariaLabelledby : dialogId + \"-title\",\n      \"aria-describedby\": ariaDescribedby\n    }, transitionRest, pick(rest, Object.keys(modalDialogPropTypes)), {\n      ref: mergeRefs(dialogRef, transitionRef),\n      classPrefix: classPrefix,\n      className: merge(classes, transitionClassName, prefix({\n        shake: shake\n      })),\n      dialogClassName: dialogClassName,\n      dialogStyle: dialogStyle\n    }), children);\n  }));\n});\nModal.Body = ModalBody;\nModal.Header = ModalHeader;\nModal.Title = ModalTitle;\nModal.Footer = ModalFooter;\nModal.Dialog = ModalDialog;\nModal.displayName = 'Modal';\nModal.propTypes = _extends({}, modalPropTypes, {\n  animation: PropTypes.any,\n  animationTimeout: PropTypes.number,\n  classPrefix: PropTypes.string,\n  dialogClassName: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  dialogStyle: PropTypes.object,\n  dialogAs: PropTypes.elementType,\n  full: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool\n});\nexport default Modal;","map":{"version":3,"sources":["/Users/pango/Documents/Open/opener/frontend/node_modules/rsuite/esm/Modal/Modal.js"],"names":["_extends","_taggedTemplateLiteralLoose","_objectWithoutPropertiesLoose","_templateObject","_templateObject2","React","useRef","useMemo","useState","useEffect","useCallback","PropTypes","pick","on","getAnimationEnd","BaseModal","modalPropTypes","Bounce","useClassNames","mergeRefs","SIZE","ModalDialog","modalDialogPropTypes","ModalContext","ModalBody","ModalHeader","ModalTitle","ModalFooter","useBodyStyles","useUniqueId","Modal","forwardRef","props","ref","className","children","_props$classPrefix","classPrefix","dialogClassName","backdropClassName","_props$backdrop","backdrop","dialogStyle","_props$animation","animation","open","_props$size","size","full","_props$dialogAs","dialogAs","Dialog","animationProps","_props$animationTimeo","animationTimeout","_props$overflow","overflow","_props$drawer","drawer","onClose","onEntered","onEntering","onExited","_props$role","role","idProp","id","ariaLabelledby","ariaDescribedby","rest","inClass","in","_useClassNames","merge","prefix","classes","dialogRef","transitionEndListener","_useBodyStyles","bodyStyles","onChangeBodyStyles","onDestroyEvents","dialogId","modalContextValue","onModalClose","getBodyStyles","isDrawer","_useState","shake","setShake","handleBackdropClick","current","handleExited","node","_transitionEndListene","off","handleEntered","handleEntering","_transitionEndListene2","createElement","Provider","value","onBackdropClick","containerClassName","transition","undefined","dialogTransitionTimeout","backdropTransitionTimeout","transitionProps","transitionRef","transitionClassName","transitionRest","Object","keys","Body","Header","Title","Footer","displayName","propTypes","any","number","string","oneOf","object","elementType","bool"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nvar _templateObject, _templateObject2;\n\nimport React, { useRef, useMemo, useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport pick from 'lodash/pick';\nimport on from 'dom-lib/on';\nimport getAnimationEnd from 'dom-lib/getAnimationEnd';\nimport BaseModal, { modalPropTypes } from '../Overlay/Modal';\nimport Bounce from '../Animation/Bounce';\nimport { useClassNames, mergeRefs, SIZE } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport { ModalContext } from './ModalContext';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { useBodyStyles } from './utils';\nimport useUniqueId from '../utils/useUniqueId';\nvar Modal = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var className = props.className,\n      children = props.children,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'modal' : _props$classPrefix,\n      dialogClassName = props.dialogClassName,\n      backdropClassName = props.backdropClassName,\n      _props$backdrop = props.backdrop,\n      backdrop = _props$backdrop === void 0 ? true : _props$backdrop,\n      dialogStyle = props.dialogStyle,\n      _props$animation = props.animation,\n      animation = _props$animation === void 0 ? Bounce : _props$animation,\n      open = props.open,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'sm' : _props$size,\n      full = props.full,\n      _props$dialogAs = props.dialogAs,\n      Dialog = _props$dialogAs === void 0 ? ModalDialog : _props$dialogAs,\n      animationProps = props.animationProps,\n      _props$animationTimeo = props.animationTimeout,\n      animationTimeout = _props$animationTimeo === void 0 ? 300 : _props$animationTimeo,\n      _props$overflow = props.overflow,\n      overflow = _props$overflow === void 0 ? true : _props$overflow,\n      _props$drawer = props.drawer,\n      drawer = _props$drawer === void 0 ? false : _props$drawer,\n      onClose = props.onClose,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExited = props.onExited,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'dialog' : _props$role,\n      idProp = props.id,\n      ariaLabelledby = props['aria-labelledby'],\n      ariaDescribedby = props['aria-describedby'],\n      rest = _objectWithoutPropertiesLoose(props, [\"className\", \"children\", \"classPrefix\", \"dialogClassName\", \"backdropClassName\", \"backdrop\", \"dialogStyle\", \"animation\", \"open\", \"size\", \"full\", \"dialogAs\", \"animationProps\", \"animationTimeout\", \"overflow\", \"drawer\", \"onClose\", \"onEntered\", \"onEntering\", \"onExited\", \"role\", \"id\", \"aria-labelledby\", \"aria-describedby\"]);\n\n  var inClass = {\n    in: open && !animation\n  };\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var classes = merge(className, prefix(size, {\n    full: full\n  }));\n  var dialogRef = useRef(null);\n  var transitionEndListener = useRef(); // The style of the Modal body will be updated with the size of the window or container.\n\n  var _useBodyStyles = useBodyStyles(dialogRef, {\n    overflow: overflow,\n    drawer: drawer,\n    prefix: prefix\n  }),\n      bodyStyles = _useBodyStyles[0],\n      onChangeBodyStyles = _useBodyStyles[1],\n      onDestroyEvents = _useBodyStyles[2];\n\n  var dialogId = useUniqueId('dialog-', idProp);\n  var modalContextValue = useMemo(function () {\n    return {\n      dialogId: dialogId,\n      onModalClose: onClose,\n      getBodyStyles: function getBodyStyles() {\n        return bodyStyles;\n      },\n      isDrawer: drawer\n    };\n  }, [dialogId, onClose, bodyStyles, drawer]);\n\n  var _useState = useState(false),\n      shake = _useState[0],\n      setShake = _useState[1];\n\n  var handleBackdropClick = useCallback(function () {\n    // When the value of `backdrop` is `static`, a jitter animation will be added to the dialog when clicked.\n    if (backdrop === 'static') {\n      setShake(true);\n\n      if (!transitionEndListener.current && dialogRef.current) {\n        //fix: https://github.com/rsuite/rsuite/blob/a93d13c14fb20cc58204babe3331d3c3da3fe1fd/src/Modal/styles/index.less#L59\n        transitionEndListener.current = on(dialogRef.current, getAnimationEnd(), function () {\n          setShake(false);\n        });\n      }\n    }\n  }, [backdrop]);\n  var handleExited = useCallback(function (node) {\n    var _transitionEndListene;\n\n    onExited === null || onExited === void 0 ? void 0 : onExited(node);\n    onDestroyEvents();\n    (_transitionEndListene = transitionEndListener.current) === null || _transitionEndListene === void 0 ? void 0 : _transitionEndListene.off();\n    transitionEndListener.current = null;\n  }, [onDestroyEvents, onExited]);\n  var handleEntered = useCallback(function (node) {\n    onEntered === null || onEntered === void 0 ? void 0 : onEntered(node);\n    onChangeBodyStyles();\n  }, [onChangeBodyStyles, onEntered]);\n  var handleEntering = useCallback(function (node) {\n    onEntering === null || onEntering === void 0 ? void 0 : onEntering(node);\n    onChangeBodyStyles(true);\n  }, [onChangeBodyStyles, onEntering]);\n  useEffect(function () {\n    var _transitionEndListene2;\n\n    (_transitionEndListene2 = transitionEndListener.current) === null || _transitionEndListene2 === void 0 ? void 0 : _transitionEndListene2.off();\n  }, []);\n  return /*#__PURE__*/React.createElement(ModalContext.Provider, {\n    value: modalContextValue\n  }, /*#__PURE__*/React.createElement(BaseModal, _extends({}, rest, {\n    ref: ref,\n    backdrop: backdrop,\n    open: open,\n    onClose: onClose,\n    onBackdropClick: handleBackdropClick,\n    className: prefix(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"wrapper\"]))),\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExited: handleExited,\n    backdropClassName: merge(prefix(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"backdrop\"]))), backdropClassName, inClass),\n    containerClassName: prefix({\n      open: open,\n      'has-backdrop': backdrop\n    }),\n    transition: animation ? animation : undefined,\n    animationProps: animationProps,\n    dialogTransitionTimeout: animationTimeout,\n    backdropTransitionTimeout: 150\n  }), function (transitionProps, transitionRef) {\n    var transitionClassName = transitionProps.className,\n        transitionRest = _objectWithoutPropertiesLoose(transitionProps, [\"className\"]);\n\n    return /*#__PURE__*/React.createElement(Dialog, _extends({\n      role: role,\n      id: dialogId,\n      \"aria-labelledby\": ariaLabelledby !== null && ariaLabelledby !== void 0 ? ariaLabelledby : dialogId + \"-title\",\n      \"aria-describedby\": ariaDescribedby\n    }, transitionRest, pick(rest, Object.keys(modalDialogPropTypes)), {\n      ref: mergeRefs(dialogRef, transitionRef),\n      classPrefix: classPrefix,\n      className: merge(classes, transitionClassName, prefix({\n        shake: shake\n      })),\n      dialogClassName: dialogClassName,\n      dialogStyle: dialogStyle\n    }), children);\n  }));\n});\nModal.Body = ModalBody;\nModal.Header = ModalHeader;\nModal.Title = ModalTitle;\nModal.Footer = ModalFooter;\nModal.Dialog = ModalDialog;\nModal.displayName = 'Modal';\nModal.propTypes = _extends({}, modalPropTypes, {\n  animation: PropTypes.any,\n  animationTimeout: PropTypes.number,\n  classPrefix: PropTypes.string,\n  dialogClassName: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  dialogStyle: PropTypes.object,\n  dialogAs: PropTypes.elementType,\n  full: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool\n});\nexport default Modal;"]},"metadata":{},"sourceType":"module"}